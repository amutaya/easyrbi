---
output: github_document
---


```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

### easyrbi R Package

<!-- badges: start -->
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
[![CRAN status](https://www.r-pkg.org/badges/version/SDS270)](https://CRAN.R-project.org/package=SDS270)
<!-- badges: end -->


## Overview

The [`easyrbi`](https://github.com/amutaya/easyrbi) R package consists of functions and datasets that can be used to calculate Richards-Baker Flashiness Index (RBI) trends over time for 301 sites. The main functions are:

1. The trendAnalysis() function perform the MannKendall and sens.slope analysis on a data frame with annual Richards-Baker Flashiness Index (RBI) values. 
2. The trends() function then maps these summary statistics into a one data frame, adds an additional column with the site numbers and removes the summary statistics row for the year variable. The trends() function has the ability to return a data frame containing of length 301 which summary statistics for all 301 sites or a custom number of sites specified by the user.


## Installation

You can install the development version of easyrbi from Github:
```{r, eval=FALSE}
# If you haven't installed remotes yet, do so:
# install.packages("remotes")
remotes::install_github("amutaya/easyrbi")
```

## Example

```{r example}
library(easyrbi)
library(dplyr)

#rbiWy_dfAll <- read_csv("rbiWy_dfAll.csv")
all_sites <- as.data.frame(colnames(rbiWy_dfAll)) %>% 
  rename(site_no = `colnames(rbiWy_dfAll)`) %>% 
    filter(!site_no == "waterYear")
```

1. This returns a character vector with 15 observations that include summary statistics from the Mann-Kendall and sens.slope analysis.
```{r}
df <- data.frame (year  = seq(from = 2010, to = 2020, by = 1),
site_num = seq(from = 1, to= 2, by = .1))

trendAnalysis(df$site_num)
```
2. This returns summary statistics for all USGS sites given in the rbiWy_dfAll dataframe.
```{r cars}
trends()
```
3. This returns summary statistics for given USGS sites that are in the rbiWy_dfAll dataframe.
```{r}
trends(site = c("01011000", "01042500"))
```




